(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[652],{743:function(e,o,r){Promise.resolve().then(r.bind(r,923))},923:function(e,o,r){"use strict";r.r(o),r.d(o,{default:function(){return l}});var s=r(7437),t=r(36);function l(){return(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"SmartIframe Test"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Test 1: Example.com (Direct)"}),(0,s.jsx)("div",{style:{width:"800px",height:"400px",border:"1px solid #ccc"},children:(0,s.jsx)(t.g,{src:"http://example.com",title:"Example.com Test",embedMethod:"direct",proxyAvailable:!0,onLoad:()=>console.log("✅ Test 1: Example.com loaded!"),onError:()=>console.log("❌ Test 1: Example.com failed!")})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Test 2: Example.com (Proxy)"}),(0,s.jsx)("div",{style:{width:"800px",height:"400px",border:"1px solid #ccc"},children:(0,s.jsx)(t.g,{src:"http://example.com",title:"Example.com Proxy Test",embedMethod:"proxy",proxyAvailable:!0,onLoad:()=>console.log("✅ Test 2: Example.com proxy loaded!"),onError:()=>console.log("❌ Test 2: Example.com proxy failed!")})})]})]})]})}},36:function(e,o,r){"use strict";r.d(o,{g:function(){return l}});var s=r(7437),t=r(2265);function l({src:e,title:o,embedMethod:r="proxy",fallbackUrl:l,proxyAvailable:n=!0,className:a="",onLoad:c,onError:d}){let[i,m]=(0,t.useState)("loaded"),[x,p]=(0,t.useState)(""),[h,u]=(0,t.useState)([]);return((0,t.useEffect)(()=>{if(console.log("SmartIframe: Setting up for",e),"proxy"===r&&n){let o=`http://localhost:4000/proxy?url=${encodeURIComponent(e)}`;console.log("SmartIframe: Using proxy method",o),p(o),u(["proxy"])}else console.log("SmartIframe: Using direct method",e),p(e),u(["direct"]);m("loaded"),c?.()},[e,r,n,c]),"loading"===i)?(0,s.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Loading ",o,"..."]})]})}):"error"===i?(0,s.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center p-4",children:[(0,s.jsxs)("h3",{className:"font-medium mb-2",children:["Unable to embed ",o]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Failed to load the website content."}),(0,s.jsxs)("div",{className:"space-x-2",children:[!h.includes("proxy")&&(0,s.jsx)("button",{className:"px-3 py-1 bg-secondary text-secondary-foreground rounded text-sm hover:bg-secondary/90",onClick:()=>{p(`http://localhost:4000/proxy?url=${encodeURIComponent(e)}`),u([...h,"proxy"])},children:"Try Proxy Method"}),!h.includes("direct")&&(0,s.jsx)("button",{className:"px-3 py-1 bg-secondary text-secondary-foreground rounded text-sm hover:bg-secondary/90",onClick:()=>{p(e),u([...h,"direct"])},children:"Try Direct Method"}),(0,s.jsx)("button",{className:"px-3 py-1 bg-primary text-primary-foreground rounded text-sm hover:bg-primary/90",onClick:()=>{window.open(l||e,"_blank","noopener,noreferrer")},children:"Open in New Tab"})]})]})}):(console.log("SmartIframe: Rendering iframe with src:",x),(0,s.jsx)("div",{className:`iframe-container ${a}`,style:{width:"100%",height:"100%"},children:(0,s.jsx)("iframe",{src:x,title:o,style:{width:"100%",height:"100%",border:"none"},sandbox:"allow-scripts allow-same-origin allow-forms allow-popups allow-popups-to-escape-sandbox allow-presentation",onLoad:()=>{console.log("ProxyIframe: Loaded successfully:",x),c?.()},onError:()=>{console.log("ProxyIframe: Error loading:",x),m("error"),d?.()}})}))}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=743)}),_N_E=e.O()}]);